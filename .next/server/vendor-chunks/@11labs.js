"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@11labs";
exports.ids = ["vendor-chunks/@11labs"];
exports.modules = {

/***/ "(ssr)/./node_modules/@11labs/client/dist/lib.modern.js":
/*!********************************************************!*\
  !*** ./node_modules/@11labs/client/dist/lib.modern.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Conversation: () => (/* binding */ f),\n/* harmony export */   postOverallFeedback: () => (/* binding */ g)\n/* harmony export */ });\nfunction e(){return e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},e.apply(null,arguments)}function t(e){const t=new Uint8Array(e);return window.btoa(String.fromCharCode(...t))}function n(e){const t=window.atob(e),n=t.length,s=new Uint8Array(n);for(let e=0;e<n;e++)s[e]=t.charCodeAt(e);return s.buffer}const s=new Blob(['\\n      const BIAS = 0x84;\\n      const CLIP = 32635;\\n      const encodeTable = [\\n        0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,\\n        4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,\\n        5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,\\n        5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,\\n        6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,\\n        6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,\\n        6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,\\n        6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,\\n        7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\\n        7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\\n        7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\\n        7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\\n        7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\\n        7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\\n        7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,\\n        7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7\\n      ];\\n      \\n      function encodeSample(sample) {\\n        let sign;\\n        let exponent;\\n        let mantissa;\\n        let muLawSample;\\n        sign = (sample >> 8) & 0x80;\\n        if (sign !== 0) sample = -sample;\\n        sample = sample + BIAS;\\n        if (sample > CLIP) sample = CLIP;\\n        exponent = encodeTable[(sample>>7) & 0xFF];\\n        mantissa = (sample >> (exponent+3)) & 0x0F;\\n        muLawSample = ~(sign | (exponent << 4) | mantissa);\\n        \\n        return muLawSample;\\n      }\\n    \\n      class RawAudioProcessor extends AudioWorkletProcessor {\\n        constructor() {\\n          super();\\n                    \\n          this.port.onmessage = ({ data }) => {\\n            switch (data.type) {\\n              case \"setFormat\":\\n                this.isMuted = false;\\n                this.buffer = []; // Initialize an empty buffer\\n                this.bufferSize = data.sampleRate / 4;\\n                this.format = data.format;\\n\\n                if (globalThis.LibSampleRate && sampleRate !== data.sampleRate) {\\n                  globalThis.LibSampleRate.create(1, sampleRate, data.sampleRate).then(resampler => {\\n                    this.resampler = resampler;\\n                  });\\n                }\\n                break;\\n              case \"setMuted\":\\n                this.isMuted = data.isMuted;\\n                break;\\n            }\\n          };\\n        }\\n        process(inputs) {\\n          if (!this.buffer) {\\n            return true;\\n          }\\n          \\n          const input = inputs[0]; // Get the first input node\\n          if (input.length > 0) {\\n            let channelData = input[0]; // Get the first channel\\'s data\\n\\n            // Resample the audio if necessary\\n            if (this.resampler) {\\n              channelData = this.resampler.full(channelData);\\n            }\\n\\n            // Add channel data to the buffer\\n            this.buffer.push(...channelData);\\n            // Get max volume \\n            let sum = 0.0;\\n            for (let i = 0; i < channelData.length; i++) {\\n              sum += channelData[i] * channelData[i];\\n            }\\n            const maxVolume = Math.sqrt(sum / channelData.length);\\n            // Check if buffer size has reached or exceeded the threshold\\n            if (this.buffer.length >= this.bufferSize) {\\n              const float32Array = this.isMuted \\n                ? new Float32Array(this.buffer.length)\\n                : new Float32Array(this.buffer);\\n\\n              let encodedArray = this.format === \"ulaw\"\\n                ? new Uint8Array(float32Array.length)\\n                : new Int16Array(float32Array.length);\\n\\n              // Iterate through the Float32Array and convert each sample to PCM16\\n              for (let i = 0; i < float32Array.length; i++) {\\n                // Clamp the value to the range [-1, 1]\\n                let sample = Math.max(-1, Math.min(1, float32Array[i]));\\n\\n                // Scale the sample to the range [-32768, 32767]\\n                let value = sample < 0 ? sample * 32768 : sample * 32767;\\n                if (this.format === \"ulaw\") {\\n                  value = encodeSample(Math.round(value));\\n                }\\n\\n                encodedArray[i] = value;\\n              }\\n\\n              // Send the buffered data to the main script\\n              this.port.postMessage([encodedArray, maxVolume]);\\n\\n              // Clear the buffer after sending\\n              this.buffer = [];\\n            }\\n          }\\n          return true; // Continue processing\\n        }\\n      }\\n      registerProcessor(\"raw-audio-processor\", RawAudioProcessor);\\n  '],{type:\"application/javascript\"}),a=URL.createObjectURL(s);function o(){return[\"iPad Simulator\",\"iPhone Simulator\",\"iPod Simulator\",\"iPad\",\"iPhone\",\"iPod\"].includes(navigator.platform)||navigator.userAgent.includes(\"Mac\")&&\"ontouchend\"in document}class i{static async create({sampleRate:e,format:t,preferHeadphonesForIosDevices:n}){let s=null,r=null;try{const l={sampleRate:{ideal:e},echoCancellation:{ideal:!0},noiseSuppression:{ideal:!0}};if(o()&&n){const e=(await window.navigator.mediaDevices.enumerateDevices()).find(e=>\"audioinput\"===e.kind&&[\"airpod\",\"headphone\",\"earphone\"].find(t=>e.label.toLowerCase().includes(t)));e&&(l.deviceId={ideal:e.deviceId})}const c=navigator.mediaDevices.getSupportedConstraints().sampleRate;s=new window.AudioContext(c?{sampleRate:e}:{});const u=s.createAnalyser();c||await s.audioWorklet.addModule(\"https://cdn.jsdelivr.net/npm/@alexanderolsen/libsamplerate-js@2.1.2/dist/libsamplerate.worklet.js\"),await s.audioWorklet.addModule(a),r=await navigator.mediaDevices.getUserMedia({audio:l});const d=s.createMediaStreamSource(r),h=new AudioWorkletNode(s,\"raw-audio-processor\");return h.port.postMessage({type:\"setFormat\",format:t,sampleRate:e}),d.connect(u),u.connect(h),await s.resume(),new i(s,u,h,r)}catch(e){var l,c;throw null==(l=r)||l.getTracks().forEach(e=>e.stop()),null==(c=s)||c.close(),e}}constructor(e,t,n,s){this.context=void 0,this.analyser=void 0,this.worklet=void 0,this.inputStream=void 0,this.context=e,this.analyser=t,this.worklet=n,this.inputStream=s}async close(){this.inputStream.getTracks().forEach(e=>e.stop()),await this.context.close()}setMuted(e){this.worklet.port.postMessage({type:\"setMuted\",isMuted:e})}}const r=new Blob(['\\n      const decodeTable = [0,132,396,924,1980,4092,8316,16764];\\n      \\n      export function decodeSample(muLawSample) {\\n        let sign;\\n        let exponent;\\n        let mantissa;\\n        let sample;\\n        muLawSample = ~muLawSample;\\n        sign = (muLawSample & 0x80);\\n        exponent = (muLawSample >> 4) & 0x07;\\n        mantissa = muLawSample & 0x0F;\\n        sample = decodeTable[exponent] + (mantissa << (exponent+3));\\n        if (sign !== 0) sample = -sample;\\n\\n        return sample;\\n      }\\n      \\n      class AudioConcatProcessor extends AudioWorkletProcessor {\\n        constructor() {\\n          super();\\n          this.buffers = []; // Initialize an empty buffer\\n          this.cursor = 0;\\n          this.currentBuffer = null;\\n          this.wasInterrupted = false;\\n          this.finished = false;\\n          \\n          this.port.onmessage = ({ data }) => {\\n            switch (data.type) {\\n              case \"setFormat\":\\n                this.format = data.format;\\n                break;\\n              case \"buffer\":\\n                this.wasInterrupted = false;\\n                this.buffers.push(\\n                  this.format === \"ulaw\"\\n                    ? new Uint8Array(data.buffer)\\n                    : new Int16Array(data.buffer)\\n                );\\n                break;\\n              case \"interrupt\":\\n                this.wasInterrupted = true;\\n                break;\\n              case \"clearInterrupted\":\\n                if (this.wasInterrupted) {\\n                  this.wasInterrupted = false;\\n                  this.buffers = [];\\n                  this.currentBuffer = null;\\n                }\\n            }\\n          };\\n        }\\n        process(_, outputs) {\\n          let finished = false;\\n          const output = outputs[0][0];\\n          for (let i = 0; i < output.length; i++) {\\n            if (!this.currentBuffer) {\\n              if (this.buffers.length === 0) {\\n                finished = true;\\n                break;\\n              }\\n              this.currentBuffer = this.buffers.shift();\\n              this.cursor = 0;\\n            }\\n\\n            let value = this.currentBuffer[this.cursor];\\n            if (this.format === \"ulaw\") {\\n              value = decodeSample(value);\\n            }\\n            output[i] = value / 32768;\\n            this.cursor++;\\n\\n            if (this.cursor >= this.currentBuffer.length) {\\n              this.currentBuffer = null;\\n            }\\n          }\\n\\n          if (this.finished !== finished) {\\n            this.finished = finished;\\n            this.port.postMessage({ type: \"process\", finished });\\n          }\\n\\n          return true; // Continue processing\\n        }\\n      }\\n\\n      registerProcessor(\"audio-concat-processor\", AudioConcatProcessor);\\n    '],{type:\"application/javascript\"}),l=URL.createObjectURL(r);class c{static async create({sampleRate:e,format:t}){let n=null;try{n=new AudioContext({sampleRate:e});const s=n.createAnalyser(),a=n.createGain();a.connect(s),s.connect(n.destination),await n.audioWorklet.addModule(l);const o=new AudioWorkletNode(n,\"audio-concat-processor\");return o.port.postMessage({type:\"setFormat\",format:t}),o.connect(a),await n.resume(),new c(n,s,a,o)}catch(e){var s;throw null==(s=n)||s.close(),e}}constructor(e,t,n,s){this.context=void 0,this.analyser=void 0,this.gain=void 0,this.worklet=void 0,this.context=e,this.analyser=t,this.gain=n,this.worklet=s}async close(){await this.context.close()}}function u(e){return!!e.type}class d{static async create(e){let t=null;try{var n;const s=null!=(n=e.origin)?n:\"wss://api.elevenlabs.io\",a=e.signedUrl?e.signedUrl:s+\"/v1/convai/conversation?agent_id=\"+e.agentId,o=[\"convai\"];e.authorization&&o.push(`bearer.${e.authorization}`),t=new WebSocket(a,o);const i=await new Promise((n,s)=>{t.addEventListener(\"open\",()=>{var n;const s={type:\"conversation_initiation_client_data\"};var a,o,i,r;e.overrides&&(s.conversation_config_override={agent:{prompt:null==(a=e.overrides.agent)?void 0:a.prompt,first_message:null==(o=e.overrides.agent)?void 0:o.firstMessage,language:null==(i=e.overrides.agent)?void 0:i.language},tts:{voice_id:null==(r=e.overrides.tts)?void 0:r.voiceId}}),e.customLlmExtraBody&&(s.custom_llm_extra_body=e.customLlmExtraBody),e.dynamicVariables&&(s.dynamic_variables=e.dynamicVariables),null==(n=t)||n.send(JSON.stringify(s))},{once:!0}),t.addEventListener(\"error\",e=>{setTimeout(()=>s(e),0)}),t.addEventListener(\"close\",s),t.addEventListener(\"message\",e=>{const t=JSON.parse(e.data);u(t)&&(\"conversation_initiation_metadata\"===t.type?n(t.conversation_initiation_metadata_event):console.warn(\"First received message is not conversation metadata.\"))},{once:!0})}),{conversation_id:r,agent_output_audio_format:l,user_input_audio_format:c}=i,p=h(null!=c?c:\"pcm_16000\"),m=h(l);return new d(t,r,p,m)}catch(e){var s;throw null==(s=t)||s.close(),e}}constructor(e,t,n,s){this.socket=void 0,this.conversationId=void 0,this.inputFormat=void 0,this.outputFormat=void 0,this.queue=[],this.disconnectionDetails=null,this.onDisconnectCallback=null,this.onMessageCallback=null,this.socket=e,this.conversationId=t,this.inputFormat=n,this.outputFormat=s,this.socket.addEventListener(\"error\",e=>{setTimeout(()=>this.disconnect({reason:\"error\",message:\"The connection was closed due to a socket error.\",context:e}),0)}),this.socket.addEventListener(\"close\",e=>{this.disconnect(1e3===e.code?{reason:\"agent\",context:e}:{reason:\"error\",message:e.reason||\"The connection was closed by the server.\",context:e})}),this.socket.addEventListener(\"message\",e=>{try{const t=JSON.parse(e.data);if(!u(t))return;this.onMessageCallback?this.onMessageCallback(t):this.queue.push(t)}catch(e){}})}close(){this.socket.close()}sendMessage(e){this.socket.send(JSON.stringify(e))}onMessage(e){this.onMessageCallback=e,this.queue.forEach(e),this.queue=[]}onDisconnect(e){this.onDisconnectCallback=e,this.disconnectionDetails&&e(this.disconnectionDetails)}disconnect(e){var t;this.disconnectionDetails||(this.disconnectionDetails=e,null==(t=this.onDisconnectCallback)||t.call(this,e))}}function h(e){const[t,n]=e.split(\"_\");if(![\"pcm\",\"ulaw\"].includes(t))throw new Error(`Invalid format: ${e}`);const s=parseInt(n);if(isNaN(s))throw new Error(`Invalid sample rate: ${n}`);return{format:t,sampleRate:s}}const p={clientTools:{}},m={onConnect:()=>{},onDebug:()=>{},onDisconnect:()=>{},onError:()=>{},onMessage:()=>{},onModeChange:()=>{},onStatusChange:()=>{},onCanSendFeedbackChange:()=>{}};class f{static async startSession(t){const n=e({},p,m,t);n.onStatusChange({status:\"connecting\"}),n.onCanSendFeedbackChange({canSendFeedback:!1});let s=null,a=null,r=null,l=null;try{var u,h;l=await navigator.mediaDevices.getUserMedia({audio:!0});const p=null!=(u=t.connectionDelay)?u:{default:0,android:3e3};let m=p.default;var g;if(/android/i.test(navigator.userAgent))m=null!=(g=p.android)?g:m;else if(o()){var v;m=null!=(v=p.ios)?v:m}return m>0&&await new Promise(e=>setTimeout(e,m)),a=await d.create(t),[s,r]=await Promise.all([i.create(e({},a.inputFormat,{preferHeadphonesForIosDevices:t.preferHeadphonesForIosDevices})),c.create(a.outputFormat)]),null==(h=l)||h.getTracks().forEach(e=>e.stop()),l=null,new f(n,a,s,r)}catch(e){var _,y,w,b;throw n.onStatusChange({status:\"disconnected\"}),null==(_=l)||_.getTracks().forEach(e=>e.stop()),null==(y=a)||y.close(),await(null==(w=s)?void 0:w.close()),await(null==(b=r)?void 0:b.close()),e}}constructor(e,s,a,o){var i=this;this.options=void 0,this.connection=void 0,this.input=void 0,this.output=void 0,this.lastInterruptTimestamp=0,this.mode=\"listening\",this.status=\"connecting\",this.inputFrequencyData=void 0,this.outputFrequencyData=void 0,this.volume=1,this.currentEventId=1,this.lastFeedbackEventId=1,this.canSendFeedback=!1,this.endSession=()=>this.endSessionWithDetails({reason:\"user\"}),this.endSessionWithDetails=async function(e){\"connected\"!==i.status&&\"connecting\"!==i.status||(i.updateStatus(\"disconnecting\"),i.connection.close(),await i.input.close(),await i.output.close(),i.updateStatus(\"disconnected\"),i.options.onDisconnect(e))},this.updateMode=e=>{e!==this.mode&&(this.mode=e,this.options.onModeChange({mode:e}))},this.updateStatus=e=>{e!==this.status&&(this.status=e,this.options.onStatusChange({status:e}))},this.updateCanSendFeedback=()=>{const e=this.currentEventId!==this.lastFeedbackEventId;this.canSendFeedback!==e&&(this.canSendFeedback=e,this.options.onCanSendFeedbackChange({canSendFeedback:e}))},this.onMessage=async function(e){switch(e.type){case\"interruption\":return e.interruption_event&&(i.lastInterruptTimestamp=e.interruption_event.event_id),void i.fadeOutAudio();case\"agent_response\":return void i.options.onMessage({source:\"ai\",message:e.agent_response_event.agent_response});case\"user_transcript\":return void i.options.onMessage({source:\"user\",message:e.user_transcription_event.user_transcript});case\"internal_tentative_agent_response\":return void i.options.onDebug({type:\"tentative_agent_response\",response:e.tentative_agent_response_internal_event.tentative_agent_response});case\"client_tool_call\":if(console.info(\"Received client tool call request\",e.client_tool_call),i.options.clientTools.hasOwnProperty(e.client_tool_call.tool_name))try{var t;const n=null!=(t=await i.options.clientTools[e.client_tool_call.tool_name](e.client_tool_call.parameters))?t:\"Client tool execution successful.\",s=\"object\"==typeof n?JSON.stringify(n):String(n);i.connection.sendMessage({type:\"client_tool_result\",tool_call_id:e.client_tool_call.tool_call_id,result:s,is_error:!1})}catch(t){i.onError(\"Client tool execution failed with following error: \"+(null==t?void 0:t.message),{clientToolName:e.client_tool_call.tool_name}),i.connection.sendMessage({type:\"client_tool_result\",tool_call_id:e.client_tool_call.tool_call_id,result:\"Client tool execution failed: \"+(null==t?void 0:t.message),is_error:!0})}else{if(i.options.onUnhandledClientToolCall)return void i.options.onUnhandledClientToolCall(e.client_tool_call);i.onError(`Client tool with name ${e.client_tool_call.tool_name} is not defined on client`,{clientToolName:e.client_tool_call.tool_name}),i.connection.sendMessage({type:\"client_tool_result\",tool_call_id:e.client_tool_call.tool_call_id,result:`Client tool with name ${e.client_tool_call.tool_name} is not defined on client`,is_error:!0})}return;case\"audio\":return void(i.lastInterruptTimestamp<=e.audio_event.event_id&&(i.addAudioBase64Chunk(e.audio_event.audio_base_64),i.currentEventId=e.audio_event.event_id,i.updateCanSendFeedback(),i.updateMode(\"speaking\")));case\"ping\":return void i.connection.sendMessage({type:\"pong\",event_id:e.ping_event.event_id});default:return void i.options.onDebug(e)}},this.onInputWorkletMessage=e=>{\"connected\"===this.status&&this.connection.sendMessage({user_audio_chunk:t(e.data[0].buffer)})},this.onOutputWorkletMessage=({data:e})=>{\"process\"===e.type&&this.updateMode(e.finished?\"listening\":\"speaking\")},this.addAudioBase64Chunk=e=>{this.output.gain.gain.value=this.volume,this.output.worklet.port.postMessage({type:\"clearInterrupted\"}),this.output.worklet.port.postMessage({type:\"buffer\",buffer:n(e)})},this.fadeOutAudio=()=>{this.updateMode(\"listening\"),this.output.worklet.port.postMessage({type:\"interrupt\"}),this.output.gain.gain.exponentialRampToValueAtTime(1e-4,this.output.context.currentTime+2),setTimeout(()=>{this.output.gain.gain.value=this.volume,this.output.worklet.port.postMessage({type:\"clearInterrupted\"})},2e3)},this.onError=(e,t)=>{console.error(e,t),this.options.onError(e,t)},this.calculateVolume=e=>{if(0===e.length)return 0;let t=0;for(let n=0;n<e.length;n++)t+=e[n]/255;return t/=e.length,t<0?0:t>1?1:t},this.getId=()=>this.connection.conversationId,this.isOpen=()=>\"connected\"===this.status,this.setVolume=({volume:e})=>{this.volume=e},this.setMicMuted=e=>{this.input.setMuted(e)},this.getInputByteFrequencyData=()=>(null!=this.inputFrequencyData||(this.inputFrequencyData=new Uint8Array(this.input.analyser.frequencyBinCount)),this.input.analyser.getByteFrequencyData(this.inputFrequencyData),this.inputFrequencyData),this.getOutputByteFrequencyData=()=>(null!=this.outputFrequencyData||(this.outputFrequencyData=new Uint8Array(this.output.analyser.frequencyBinCount)),this.output.analyser.getByteFrequencyData(this.outputFrequencyData),this.outputFrequencyData),this.getInputVolume=()=>this.calculateVolume(this.getInputByteFrequencyData()),this.getOutputVolume=()=>this.calculateVolume(this.getOutputByteFrequencyData()),this.sendFeedback=e=>{this.canSendFeedback?(this.connection.sendMessage({type:\"feedback\",score:e?\"like\":\"dislike\",event_id:this.currentEventId}),this.lastFeedbackEventId=this.currentEventId,this.updateCanSendFeedback()):console.warn(0===this.lastFeedbackEventId?\"Cannot send feedback: the conversation has not started yet.\":\"Cannot send feedback: feedback has already been sent for the current response.\")},this.options=e,this.connection=s,this.input=a,this.output=o,this.options.onConnect({conversationId:s.conversationId}),this.connection.onDisconnect(this.endSessionWithDetails),this.connection.onMessage(this.onMessage),this.input.worklet.port.onmessage=this.onInputWorkletMessage,this.output.worklet.port.onmessage=this.onOutputWorkletMessage,this.updateStatus(\"connected\")}}function g(e,t,n=\"https://api.elevenlabs.io\"){return fetch(`${n}/v1/convai/conversations/${e}/feedback`,{method:\"POST\",body:JSON.stringify({feedback:t?\"like\":\"dislike\"}),headers:{\"Content-Type\":\"application/json\"}})}\n//# sourceMappingURL=lib.modern.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQDExbGFicy9jbGllbnQvZGlzdC9saWIubW9kZXJuLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsYUFBYSx3REFBd0QsWUFBWSxtQkFBbUIsS0FBSyxtQkFBbUIsa0JBQWtCLHdDQUF3QyxTQUFTLHlCQUF5QixjQUFjLDBCQUEwQiw4Q0FBOEMsY0FBYyxzREFBc0QsWUFBWSxJQUFJLHlCQUF5QixnQkFBZ0IsNkNBQTZDLDJCQUEyQixzc0JBQXNzQiwrQ0FBK0MsbUJBQW1CLHVCQUF1Qix1QkFBdUIsMEJBQTBCLHNDQUFzQywyQ0FBMkMsaUNBQWlDLDJDQUEyQyxxREFBcUQscURBQXFELDZEQUE2RCx1Q0FBdUMsU0FBUyxxRUFBcUUseUJBQXlCLG9CQUFvQiwyREFBMkQsTUFBTSxNQUFNLGtDQUFrQyx3RUFBd0Usb0NBQW9DLHFGQUFxRiw0Q0FBNEMscUZBQXFGLHVHQUF1RyxpREFBaUQscUJBQXFCLEVBQUUsbUJBQW1CLHdCQUF3Qiw4RUFBOEUsd0JBQXdCLGVBQWUsY0FBYyxXQUFXLDJCQUEyQiwrQkFBK0IsMEJBQTBCLGFBQWEsaURBQWlELDhEQUE4RCwwQ0FBMEMscUhBQXFILCtEQUErRCxlQUFlLGdHQUFnRyw0REFBNEQsOEJBQThCLHdCQUF3QixNQUFNLHVEQUF1RCxlQUFlLG9FQUFvRSxxSUFBcUksNEpBQTRKLDBLQUEwSyxzSEFBc0gseUJBQXlCLE1BQU0sbUlBQW1JLCtJQUErSSwrQ0FBK0MsNERBQTRELG1CQUFtQiw0Q0FBNEMsaUJBQWlCLCtIQUErSCxvRkFBb0YsZUFBZSxhQUFhLHlCQUF5QixpQ0FBaUMsU0FBUyxvRUFBb0UsUUFBUSw4QkFBOEIsMkJBQTJCLGFBQWEsK0tBQStLLFFBQVEscUJBQXFCLHNEQUFzRCxFQUFFLGtCQUFrQixJQUFJLFNBQVMsWUFBWSxRQUFRLG1CQUFtQixTQUFTLG1CQUFtQixXQUFXLFdBQVcsOEtBQThLLGdCQUFnQixpQkFBaUIsRUFBRSxvRUFBb0UsNkJBQTZCLGFBQWEsR0FBRyxFQUFFLDJCQUEyQixzTkFBc04sUUFBUSxFQUFFLHFGQUFxRiwyQkFBMkIsdUNBQXVDLDREQUE0RCxTQUFTLFFBQVEsZ0ZBQWdGLHFCQUFxQixzSkFBc0osY0FBYyw2RUFBNkUsWUFBWSwrQkFBK0IsMEJBQTBCLEdBQUcsb0ZBQW9GLDJEQUEyRCxtQkFBbUIsdUJBQXVCLHVCQUF1QixxQkFBcUIscUNBQXFDLHNDQUFzQywrQ0FBK0Msd0NBQXdDLHNFQUFzRSwyQ0FBMkMsMEJBQTBCLFNBQVMsMEVBQTBFLHlCQUF5QixvQkFBb0IsK0JBQStCLHlEQUF5RCxzQ0FBc0Msd0NBQXdDLGtDQUFrQyxpREFBaUQsTUFBTSxNQUFNLGtDQUFrQyw2RUFBNkUsd0JBQXdCLDRFQUE0RSx3TUFBd00sd0JBQXdCLDhFQUE4RSx3QkFBd0Isb0ZBQW9GLGdEQUFnRCxzQ0FBc0MsOENBQThDLG1CQUFtQixlQUFlLGNBQWMsV0FBVywrQkFBK0IsaUNBQWlDLHlDQUF5Qyw0QkFBNEIsbUJBQW1CLE1BQU0sd0NBQXdDLGdEQUFnRCxrQ0FBa0Msd0JBQXdCLGlCQUFpQiwwREFBMEQsZ0NBQWdDLGVBQWUsNERBQTRELDJDQUEyQyw0Q0FBNEMsZUFBZSx3Q0FBd0MsNEJBQTRCLCtEQUErRCwwQ0FBMEMsZUFBZSxhQUFhLCtDQUErQyx1Q0FBdUMsc0NBQXNDLDJCQUEyQixFQUFFLGFBQWEsMkJBQTJCLGlDQUFpQyxTQUFTLDRFQUE0RSxVQUFVLDhCQUE4QiwyQkFBMkIsUUFBUSxxQkFBcUIsc0JBQXNCLEVBQUUsV0FBVyxJQUFJLG9CQUFvQixhQUFhLEVBQUUsNENBQTRDLHdFQUF3RSx5REFBeUQsMkJBQTJCLDBCQUEwQiwrQ0FBK0MsU0FBUyxNQUFNLGdDQUFnQyxxQkFBcUIsd0lBQXdJLGNBQWMsNEJBQTRCLGNBQWMsZUFBZSxRQUFRLHVCQUF1QixXQUFXLElBQUksTUFBTSw4SUFBOEksa0NBQWtDLGdCQUFnQix3QkFBd0Isa0NBQWtDLCtCQUErQixNQUFNLFNBQVMsNENBQTRDLFlBQVksOENBQThDLE9BQU8sMEtBQTBLLE1BQU0scURBQXFELDJLQUEySyxFQUFFLFFBQVEsaUNBQWlDLHVCQUF1QixpRUFBaUUsMkJBQTJCLHFLQUFxSyxFQUFFLFFBQVEsRUFBRSxHQUFHLHdFQUF3RSxxQ0FBcUMsc0JBQXNCLFNBQVMsTUFBTSxnQ0FBZ0MscUJBQXFCLDJUQUEyVCxnQ0FBZ0Msb0ZBQW9GLEtBQUssMkNBQTJDLDhCQUE4Qix5QkFBeUIsRUFBRSxzRkFBc0YsRUFBRSw2Q0FBNkMsSUFBSSwyQkFBMkIsZ0JBQWdCLG9FQUFvRSxXQUFXLEVBQUUsUUFBUSxvQkFBb0IsZUFBZSxvQ0FBb0MsYUFBYSw2REFBNkQsZ0JBQWdCLG9GQUFvRixjQUFjLE1BQU0sOEdBQThHLGNBQWMsd0JBQXdCLGtFQUFrRSxFQUFFLEdBQUcsb0JBQW9CLG9EQUFvRCxFQUFFLEdBQUcsT0FBTyx1QkFBdUIsU0FBUyxlQUFlLElBQUksZ0JBQWdCLGVBQWUsb0JBQW9CLGVBQWUsaUJBQWlCLG9CQUFvQixzQkFBc0IsaUNBQWlDLFFBQVEsNkJBQTZCLFlBQVksUUFBUSxrQkFBa0Isb0JBQW9CLDZCQUE2QixtQkFBbUIsRUFBRSxnQ0FBZ0MsSUFBSSxRQUFRLDZDQUE2QyxTQUFTLEVBQUUsdUNBQXVDLHVCQUF1QixnQkFBZ0IsTUFBTSxrRUFBa0UsYUFBYSxNQUFNLHNCQUFzQiw0R0FBNEcsZ0JBQWdCLDhEQUE4RCxvR0FBb0csU0FBUyxZQUFZLHdCQUF3QixzQkFBc0Isb0pBQW9KLHFCQUFxQixXQUFXLG1XQUFtVyxjQUFjLCtDQUErQyw4TUFBOE0scUJBQXFCLHVEQUF1RCxPQUFPLEdBQUcsdUJBQXVCLDZEQUE2RCxTQUFTLEdBQUcsaUNBQWlDLHVEQUF1RCx3RkFBd0Ysa0JBQWtCLEdBQUcsa0NBQWtDLGVBQWUsK0hBQStILHNEQUFzRCwwREFBMEQsRUFBRSx1REFBdUQsaUVBQWlFLEVBQUUsdUVBQXVFLDRHQUE0RyxFQUFFLHNLQUFzSyxNQUFNLGtNQUFrTSwwQkFBMEIsNEZBQTRGLEVBQUUsU0FBUyw0RkFBNEYsNENBQTRDLDRCQUE0QixzSkFBc0osRUFBRSxLQUFLLDJHQUEyRyxtQ0FBbUMsOEJBQThCLDJCQUEyQiw0Q0FBNEMsNEJBQTRCLHVHQUF1Ryw4QkFBOEIsc0NBQXNDLEVBQUUsT0FBTywyTkFBMk4saURBQWlELDJDQUEyQyxFQUFFLDBDQUEwQyxnQ0FBZ0Msd0RBQXdELHFDQUFxQyxFQUFFLCtCQUErQixPQUFPLElBQUksdUVBQXVFLDhCQUE4Qiw4RUFBOEUsd0JBQXdCLHdDQUF3QywwQkFBMEIsRUFBRSx3QkFBd0IsbUVBQW1FLGlCQUFpQiw2R0FBNkcsOEVBQThFLHdCQUF3QixFQUFFLE1BQU0sc0JBQXNCLDZDQUE2QywwQkFBMEIseUJBQXlCLFFBQVEsWUFBWSxXQUFXLGdCQUFnQixpQ0FBaUMsMEdBQTBHLFNBQVMsSUFBSSxjQUFjLHNCQUFzQix1QkFBdUIsMHBCQUEwcEIsbURBQW1ELHNFQUFzRSx1UUFBdVEscUZBQXFGLGdDQUFnQyxpUUFBaVEsOENBQThDLGdCQUFnQixFQUFFLDJCQUEyQixFQUFFLFlBQVksbUNBQW1DLDRCQUE0QixXQUFXLG1DQUFtQyxFQUFxRDtBQUNqbm5CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0AxMWxhYnMvY2xpZW50L2Rpc3QvbGliLm1vZGVybi5qcz8xZGYwIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGUoKXtyZXR1cm4gZT1PYmplY3QuYXNzaWduP09iamVjdC5hc3NpZ24uYmluZCgpOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHMgaW4gbikoe30pLmhhc093blByb3BlcnR5LmNhbGwobixzKSYmKGVbc109bltzXSl9cmV0dXJuIGV9LGUuYXBwbHkobnVsbCxhcmd1bWVudHMpfWZ1bmN0aW9uIHQoZSl7Y29uc3QgdD1uZXcgVWludDhBcnJheShlKTtyZXR1cm4gd2luZG93LmJ0b2EoU3RyaW5nLmZyb21DaGFyQ29kZSguLi50KSl9ZnVuY3Rpb24gbihlKXtjb25zdCB0PXdpbmRvdy5hdG9iKGUpLG49dC5sZW5ndGgscz1uZXcgVWludDhBcnJheShuKTtmb3IobGV0IGU9MDtlPG47ZSsrKXNbZV09dC5jaGFyQ29kZUF0KGUpO3JldHVybiBzLmJ1ZmZlcn1jb25zdCBzPW5ldyBCbG9iKFsnXFxuICAgICAgY29uc3QgQklBUyA9IDB4ODQ7XFxuICAgICAgY29uc3QgQ0xJUCA9IDMyNjM1O1xcbiAgICAgIGNvbnN0IGVuY29kZVRhYmxlID0gW1xcbiAgICAgICAgMCwwLDEsMSwyLDIsMiwyLDMsMywzLDMsMywzLDMsMyxcXG4gICAgICAgIDQsNCw0LDQsNCw0LDQsNCw0LDQsNCw0LDQsNCw0LDQsXFxuICAgICAgICA1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNSw1LFxcbiAgICAgICAgNSw1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNSw1LDUsNSxcXG4gICAgICAgIDYsNiw2LDYsNiw2LDYsNiw2LDYsNiw2LDYsNiw2LDYsXFxuICAgICAgICA2LDYsNiw2LDYsNiw2LDYsNiw2LDYsNiw2LDYsNiw2LFxcbiAgICAgICAgNiw2LDYsNiw2LDYsNiw2LDYsNiw2LDYsNiw2LDYsNixcXG4gICAgICAgIDYsNiw2LDYsNiw2LDYsNiw2LDYsNiw2LDYsNiw2LDYsXFxuICAgICAgICA3LDcsNyw3LDcsNyw3LDcsNyw3LDcsNyw3LDcsNyw3LFxcbiAgICAgICAgNyw3LDcsNyw3LDcsNyw3LDcsNyw3LDcsNyw3LDcsNyxcXG4gICAgICAgIDcsNyw3LDcsNyw3LDcsNyw3LDcsNyw3LDcsNyw3LDcsXFxuICAgICAgICA3LDcsNyw3LDcsNyw3LDcsNyw3LDcsNyw3LDcsNyw3LFxcbiAgICAgICAgNyw3LDcsNyw3LDcsNyw3LDcsNyw3LDcsNyw3LDcsNyxcXG4gICAgICAgIDcsNyw3LDcsNyw3LDcsNyw3LDcsNyw3LDcsNyw3LDcsXFxuICAgICAgICA3LDcsNyw3LDcsNyw3LDcsNyw3LDcsNyw3LDcsNyw3LFxcbiAgICAgICAgNyw3LDcsNyw3LDcsNyw3LDcsNyw3LDcsNyw3LDcsN1xcbiAgICAgIF07XFxuICAgICAgXFxuICAgICAgZnVuY3Rpb24gZW5jb2RlU2FtcGxlKHNhbXBsZSkge1xcbiAgICAgICAgbGV0IHNpZ247XFxuICAgICAgICBsZXQgZXhwb25lbnQ7XFxuICAgICAgICBsZXQgbWFudGlzc2E7XFxuICAgICAgICBsZXQgbXVMYXdTYW1wbGU7XFxuICAgICAgICBzaWduID0gKHNhbXBsZSA+PiA4KSAmIDB4ODA7XFxuICAgICAgICBpZiAoc2lnbiAhPT0gMCkgc2FtcGxlID0gLXNhbXBsZTtcXG4gICAgICAgIHNhbXBsZSA9IHNhbXBsZSArIEJJQVM7XFxuICAgICAgICBpZiAoc2FtcGxlID4gQ0xJUCkgc2FtcGxlID0gQ0xJUDtcXG4gICAgICAgIGV4cG9uZW50ID0gZW5jb2RlVGFibGVbKHNhbXBsZT4+NykgJiAweEZGXTtcXG4gICAgICAgIG1hbnRpc3NhID0gKHNhbXBsZSA+PiAoZXhwb25lbnQrMykpICYgMHgwRjtcXG4gICAgICAgIG11TGF3U2FtcGxlID0gfihzaWduIHwgKGV4cG9uZW50IDw8IDQpIHwgbWFudGlzc2EpO1xcbiAgICAgICAgXFxuICAgICAgICByZXR1cm4gbXVMYXdTYW1wbGU7XFxuICAgICAgfVxcbiAgICBcXG4gICAgICBjbGFzcyBSYXdBdWRpb1Byb2Nlc3NvciBleHRlbmRzIEF1ZGlvV29ya2xldFByb2Nlc3NvciB7XFxuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcXG4gICAgICAgICAgc3VwZXIoKTtcXG4gICAgICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICB0aGlzLnBvcnQub25tZXNzYWdlID0gKHsgZGF0YSB9KSA9PiB7XFxuICAgICAgICAgICAgc3dpdGNoIChkYXRhLnR5cGUpIHtcXG4gICAgICAgICAgICAgIGNhc2UgXCJzZXRGb3JtYXRcIjpcXG4gICAgICAgICAgICAgICAgdGhpcy5pc011dGVkID0gZmFsc2U7XFxuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyID0gW107IC8vIEluaXRpYWxpemUgYW4gZW1wdHkgYnVmZmVyXFxuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVyU2l6ZSA9IGRhdGEuc2FtcGxlUmF0ZSAvIDQ7XFxuICAgICAgICAgICAgICAgIHRoaXMuZm9ybWF0ID0gZGF0YS5mb3JtYXQ7XFxuXFxuICAgICAgICAgICAgICAgIGlmIChnbG9iYWxUaGlzLkxpYlNhbXBsZVJhdGUgJiYgc2FtcGxlUmF0ZSAhPT0gZGF0YS5zYW1wbGVSYXRlKSB7XFxuICAgICAgICAgICAgICAgICAgZ2xvYmFsVGhpcy5MaWJTYW1wbGVSYXRlLmNyZWF0ZSgxLCBzYW1wbGVSYXRlLCBkYXRhLnNhbXBsZVJhdGUpLnRoZW4ocmVzYW1wbGVyID0+IHtcXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzYW1wbGVyID0gcmVzYW1wbGVyO1xcbiAgICAgICAgICAgICAgICAgIH0pO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIGJyZWFrO1xcbiAgICAgICAgICAgICAgY2FzZSBcInNldE11dGVkXCI6XFxuICAgICAgICAgICAgICAgIHRoaXMuaXNNdXRlZCA9IGRhdGEuaXNNdXRlZDtcXG4gICAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICB9O1xcbiAgICAgICAgfVxcbiAgICAgICAgcHJvY2VzcyhpbnB1dHMpIHtcXG4gICAgICAgICAgaWYgKCF0aGlzLmJ1ZmZlcikge1xcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xcbiAgICAgICAgICB9XFxuICAgICAgICAgIFxcbiAgICAgICAgICBjb25zdCBpbnB1dCA9IGlucHV0c1swXTsgLy8gR2V0IHRoZSBmaXJzdCBpbnB1dCBub2RlXFxuICAgICAgICAgIGlmIChpbnB1dC5sZW5ndGggPiAwKSB7XFxuICAgICAgICAgICAgbGV0IGNoYW5uZWxEYXRhID0gaW5wdXRbMF07IC8vIEdldCB0aGUgZmlyc3QgY2hhbm5lbFxcJ3MgZGF0YVxcblxcbiAgICAgICAgICAgIC8vIFJlc2FtcGxlIHRoZSBhdWRpbyBpZiBuZWNlc3NhcnlcXG4gICAgICAgICAgICBpZiAodGhpcy5yZXNhbXBsZXIpIHtcXG4gICAgICAgICAgICAgIGNoYW5uZWxEYXRhID0gdGhpcy5yZXNhbXBsZXIuZnVsbChjaGFubmVsRGF0YSk7XFxuICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgIC8vIEFkZCBjaGFubmVsIGRhdGEgdG8gdGhlIGJ1ZmZlclxcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyLnB1c2goLi4uY2hhbm5lbERhdGEpO1xcbiAgICAgICAgICAgIC8vIEdldCBtYXggdm9sdW1lIFxcbiAgICAgICAgICAgIGxldCBzdW0gPSAwLjA7XFxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFubmVsRGF0YS5sZW5ndGg7IGkrKykge1xcbiAgICAgICAgICAgICAgc3VtICs9IGNoYW5uZWxEYXRhW2ldICogY2hhbm5lbERhdGFbaV07XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIGNvbnN0IG1heFZvbHVtZSA9IE1hdGguc3FydChzdW0gLyBjaGFubmVsRGF0YS5sZW5ndGgpO1xcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGJ1ZmZlciBzaXplIGhhcyByZWFjaGVkIG9yIGV4Y2VlZGVkIHRoZSB0aHJlc2hvbGRcXG4gICAgICAgICAgICBpZiAodGhpcy5idWZmZXIubGVuZ3RoID49IHRoaXMuYnVmZmVyU2l6ZSkge1xcbiAgICAgICAgICAgICAgY29uc3QgZmxvYXQzMkFycmF5ID0gdGhpcy5pc011dGVkIFxcbiAgICAgICAgICAgICAgICA/IG5ldyBGbG9hdDMyQXJyYXkodGhpcy5idWZmZXIubGVuZ3RoKVxcbiAgICAgICAgICAgICAgICA6IG5ldyBGbG9hdDMyQXJyYXkodGhpcy5idWZmZXIpO1xcblxcbiAgICAgICAgICAgICAgbGV0IGVuY29kZWRBcnJheSA9IHRoaXMuZm9ybWF0ID09PSBcInVsYXdcIlxcbiAgICAgICAgICAgICAgICA/IG5ldyBVaW50OEFycmF5KGZsb2F0MzJBcnJheS5sZW5ndGgpXFxuICAgICAgICAgICAgICAgIDogbmV3IEludDE2QXJyYXkoZmxvYXQzMkFycmF5Lmxlbmd0aCk7XFxuXFxuICAgICAgICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggdGhlIEZsb2F0MzJBcnJheSBhbmQgY29udmVydCBlYWNoIHNhbXBsZSB0byBQQ00xNlxcbiAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmbG9hdDMyQXJyYXkubGVuZ3RoOyBpKyspIHtcXG4gICAgICAgICAgICAgICAgLy8gQ2xhbXAgdGhlIHZhbHVlIHRvIHRoZSByYW5nZSBbLTEsIDFdXFxuICAgICAgICAgICAgICAgIGxldCBzYW1wbGUgPSBNYXRoLm1heCgtMSwgTWF0aC5taW4oMSwgZmxvYXQzMkFycmF5W2ldKSk7XFxuXFxuICAgICAgICAgICAgICAgIC8vIFNjYWxlIHRoZSBzYW1wbGUgdG8gdGhlIHJhbmdlIFstMzI3NjgsIDMyNzY3XVxcbiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBzYW1wbGUgPCAwID8gc2FtcGxlICogMzI3NjggOiBzYW1wbGUgKiAzMjc2NztcXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZm9ybWF0ID09PSBcInVsYXdcIikge1xcbiAgICAgICAgICAgICAgICAgIHZhbHVlID0gZW5jb2RlU2FtcGxlKE1hdGgucm91bmQodmFsdWUpKTtcXG4gICAgICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgICAgICBlbmNvZGVkQXJyYXlbaV0gPSB2YWx1ZTtcXG4gICAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICAgIC8vIFNlbmQgdGhlIGJ1ZmZlcmVkIGRhdGEgdG8gdGhlIG1haW4gc2NyaXB0XFxuICAgICAgICAgICAgICB0aGlzLnBvcnQucG9zdE1lc3NhZ2UoW2VuY29kZWRBcnJheSwgbWF4Vm9sdW1lXSk7XFxuXFxuICAgICAgICAgICAgICAvLyBDbGVhciB0aGUgYnVmZmVyIGFmdGVyIHNlbmRpbmdcXG4gICAgICAgICAgICAgIHRoaXMuYnVmZmVyID0gW107XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICB9XFxuICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBDb250aW51ZSBwcm9jZXNzaW5nXFxuICAgICAgICB9XFxuICAgICAgfVxcbiAgICAgIHJlZ2lzdGVyUHJvY2Vzc29yKFwicmF3LWF1ZGlvLXByb2Nlc3NvclwiLCBSYXdBdWRpb1Byb2Nlc3Nvcik7XFxuICAnXSx7dHlwZTpcImFwcGxpY2F0aW9uL2phdmFzY3JpcHRcIn0pLGE9VVJMLmNyZWF0ZU9iamVjdFVSTChzKTtmdW5jdGlvbiBvKCl7cmV0dXJuW1wiaVBhZCBTaW11bGF0b3JcIixcImlQaG9uZSBTaW11bGF0b3JcIixcImlQb2QgU2ltdWxhdG9yXCIsXCJpUGFkXCIsXCJpUGhvbmVcIixcImlQb2RcIl0uaW5jbHVkZXMobmF2aWdhdG9yLnBsYXRmb3JtKXx8bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmNsdWRlcyhcIk1hY1wiKSYmXCJvbnRvdWNoZW5kXCJpbiBkb2N1bWVudH1jbGFzcyBpe3N0YXRpYyBhc3luYyBjcmVhdGUoe3NhbXBsZVJhdGU6ZSxmb3JtYXQ6dCxwcmVmZXJIZWFkcGhvbmVzRm9ySW9zRGV2aWNlczpufSl7bGV0IHM9bnVsbCxyPW51bGw7dHJ5e2NvbnN0IGw9e3NhbXBsZVJhdGU6e2lkZWFsOmV9LGVjaG9DYW5jZWxsYXRpb246e2lkZWFsOiEwfSxub2lzZVN1cHByZXNzaW9uOntpZGVhbDohMH19O2lmKG8oKSYmbil7Y29uc3QgZT0oYXdhaXQgd2luZG93Lm5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpKS5maW5kKGU9PlwiYXVkaW9pbnB1dFwiPT09ZS5raW5kJiZbXCJhaXJwb2RcIixcImhlYWRwaG9uZVwiLFwiZWFycGhvbmVcIl0uZmluZCh0PT5lLmxhYmVsLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModCkpKTtlJiYobC5kZXZpY2VJZD17aWRlYWw6ZS5kZXZpY2VJZH0pfWNvbnN0IGM9bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRTdXBwb3J0ZWRDb25zdHJhaW50cygpLnNhbXBsZVJhdGU7cz1uZXcgd2luZG93LkF1ZGlvQ29udGV4dChjP3tzYW1wbGVSYXRlOmV9Ont9KTtjb25zdCB1PXMuY3JlYXRlQW5hbHlzZXIoKTtjfHxhd2FpdCBzLmF1ZGlvV29ya2xldC5hZGRNb2R1bGUoXCJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL0BhbGV4YW5kZXJvbHNlbi9saWJzYW1wbGVyYXRlLWpzQDIuMS4yL2Rpc3QvbGlic2FtcGxlcmF0ZS53b3JrbGV0LmpzXCIpLGF3YWl0IHMuYXVkaW9Xb3JrbGV0LmFkZE1vZHVsZShhKSxyPWF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHthdWRpbzpsfSk7Y29uc3QgZD1zLmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKHIpLGg9bmV3IEF1ZGlvV29ya2xldE5vZGUocyxcInJhdy1hdWRpby1wcm9jZXNzb3JcIik7cmV0dXJuIGgucG9ydC5wb3N0TWVzc2FnZSh7dHlwZTpcInNldEZvcm1hdFwiLGZvcm1hdDp0LHNhbXBsZVJhdGU6ZX0pLGQuY29ubmVjdCh1KSx1LmNvbm5lY3QoaCksYXdhaXQgcy5yZXN1bWUoKSxuZXcgaShzLHUsaCxyKX1jYXRjaChlKXt2YXIgbCxjO3Rocm93IG51bGw9PShsPXIpfHxsLmdldFRyYWNrcygpLmZvckVhY2goZT0+ZS5zdG9wKCkpLG51bGw9PShjPXMpfHxjLmNsb3NlKCksZX19Y29uc3RydWN0b3IoZSx0LG4scyl7dGhpcy5jb250ZXh0PXZvaWQgMCx0aGlzLmFuYWx5c2VyPXZvaWQgMCx0aGlzLndvcmtsZXQ9dm9pZCAwLHRoaXMuaW5wdXRTdHJlYW09dm9pZCAwLHRoaXMuY29udGV4dD1lLHRoaXMuYW5hbHlzZXI9dCx0aGlzLndvcmtsZXQ9bix0aGlzLmlucHV0U3RyZWFtPXN9YXN5bmMgY2xvc2UoKXt0aGlzLmlucHV0U3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goZT0+ZS5zdG9wKCkpLGF3YWl0IHRoaXMuY29udGV4dC5jbG9zZSgpfXNldE11dGVkKGUpe3RoaXMud29ya2xldC5wb3J0LnBvc3RNZXNzYWdlKHt0eXBlOlwic2V0TXV0ZWRcIixpc011dGVkOmV9KX19Y29uc3Qgcj1uZXcgQmxvYihbJ1xcbiAgICAgIGNvbnN0IGRlY29kZVRhYmxlID0gWzAsMTMyLDM5Niw5MjQsMTk4MCw0MDkyLDgzMTYsMTY3NjRdO1xcbiAgICAgIFxcbiAgICAgIGV4cG9ydCBmdW5jdGlvbiBkZWNvZGVTYW1wbGUobXVMYXdTYW1wbGUpIHtcXG4gICAgICAgIGxldCBzaWduO1xcbiAgICAgICAgbGV0IGV4cG9uZW50O1xcbiAgICAgICAgbGV0IG1hbnRpc3NhO1xcbiAgICAgICAgbGV0IHNhbXBsZTtcXG4gICAgICAgIG11TGF3U2FtcGxlID0gfm11TGF3U2FtcGxlO1xcbiAgICAgICAgc2lnbiA9IChtdUxhd1NhbXBsZSAmIDB4ODApO1xcbiAgICAgICAgZXhwb25lbnQgPSAobXVMYXdTYW1wbGUgPj4gNCkgJiAweDA3O1xcbiAgICAgICAgbWFudGlzc2EgPSBtdUxhd1NhbXBsZSAmIDB4MEY7XFxuICAgICAgICBzYW1wbGUgPSBkZWNvZGVUYWJsZVtleHBvbmVudF0gKyAobWFudGlzc2EgPDwgKGV4cG9uZW50KzMpKTtcXG4gICAgICAgIGlmIChzaWduICE9PSAwKSBzYW1wbGUgPSAtc2FtcGxlO1xcblxcbiAgICAgICAgcmV0dXJuIHNhbXBsZTtcXG4gICAgICB9XFxuICAgICAgXFxuICAgICAgY2xhc3MgQXVkaW9Db25jYXRQcm9jZXNzb3IgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3Ige1xcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XFxuICAgICAgICAgIHN1cGVyKCk7XFxuICAgICAgICAgIHRoaXMuYnVmZmVycyA9IFtdOyAvLyBJbml0aWFsaXplIGFuIGVtcHR5IGJ1ZmZlclxcbiAgICAgICAgICB0aGlzLmN1cnNvciA9IDA7XFxuICAgICAgICAgIHRoaXMuY3VycmVudEJ1ZmZlciA9IG51bGw7XFxuICAgICAgICAgIHRoaXMud2FzSW50ZXJydXB0ZWQgPSBmYWxzZTtcXG4gICAgICAgICAgdGhpcy5maW5pc2hlZCA9IGZhbHNlO1xcbiAgICAgICAgICBcXG4gICAgICAgICAgdGhpcy5wb3J0Lm9ubWVzc2FnZSA9ICh7IGRhdGEgfSkgPT4ge1xcbiAgICAgICAgICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XFxuICAgICAgICAgICAgICBjYXNlIFwic2V0Rm9ybWF0XCI6XFxuICAgICAgICAgICAgICAgIHRoaXMuZm9ybWF0ID0gZGF0YS5mb3JtYXQ7XFxuICAgICAgICAgICAgICAgIGJyZWFrO1xcbiAgICAgICAgICAgICAgY2FzZSBcImJ1ZmZlclwiOlxcbiAgICAgICAgICAgICAgICB0aGlzLndhc0ludGVycnVwdGVkID0gZmFsc2U7XFxuICAgICAgICAgICAgICAgIHRoaXMuYnVmZmVycy5wdXNoKFxcbiAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybWF0ID09PSBcInVsYXdcIlxcbiAgICAgICAgICAgICAgICAgICAgPyBuZXcgVWludDhBcnJheShkYXRhLmJ1ZmZlcilcXG4gICAgICAgICAgICAgICAgICAgIDogbmV3IEludDE2QXJyYXkoZGF0YS5idWZmZXIpXFxuICAgICAgICAgICAgICAgICk7XFxuICAgICAgICAgICAgICAgIGJyZWFrO1xcbiAgICAgICAgICAgICAgY2FzZSBcImludGVycnVwdFwiOlxcbiAgICAgICAgICAgICAgICB0aGlzLndhc0ludGVycnVwdGVkID0gdHJ1ZTtcXG4gICAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgICBjYXNlIFwiY2xlYXJJbnRlcnJ1cHRlZFwiOlxcbiAgICAgICAgICAgICAgICBpZiAodGhpcy53YXNJbnRlcnJ1cHRlZCkge1xcbiAgICAgICAgICAgICAgICAgIHRoaXMud2FzSW50ZXJydXB0ZWQgPSBmYWxzZTtcXG4gICAgICAgICAgICAgICAgICB0aGlzLmJ1ZmZlcnMgPSBbXTtcXG4gICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRCdWZmZXIgPSBudWxsO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICB9O1xcbiAgICAgICAgfVxcbiAgICAgICAgcHJvY2VzcyhfLCBvdXRwdXRzKSB7XFxuICAgICAgICAgIGxldCBmaW5pc2hlZCA9IGZhbHNlO1xcbiAgICAgICAgICBjb25zdCBvdXRwdXQgPSBvdXRwdXRzWzBdWzBdO1xcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG91dHB1dC5sZW5ndGg7IGkrKykge1xcbiAgICAgICAgICAgIGlmICghdGhpcy5jdXJyZW50QnVmZmVyKSB7XFxuICAgICAgICAgICAgICBpZiAodGhpcy5idWZmZXJzLmxlbmd0aCA9PT0gMCkge1xcbiAgICAgICAgICAgICAgICBmaW5pc2hlZCA9IHRydWU7XFxuICAgICAgICAgICAgICAgIGJyZWFrO1xcbiAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgdGhpcy5jdXJyZW50QnVmZmVyID0gdGhpcy5idWZmZXJzLnNoaWZ0KCk7XFxuICAgICAgICAgICAgICB0aGlzLmN1cnNvciA9IDA7XFxuICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuY3VycmVudEJ1ZmZlclt0aGlzLmN1cnNvcl07XFxuICAgICAgICAgICAgaWYgKHRoaXMuZm9ybWF0ID09PSBcInVsYXdcIikge1xcbiAgICAgICAgICAgICAgdmFsdWUgPSBkZWNvZGVTYW1wbGUodmFsdWUpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBvdXRwdXRbaV0gPSB2YWx1ZSAvIDMyNzY4O1xcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yKys7XFxuXFxuICAgICAgICAgICAgaWYgKHRoaXMuY3Vyc29yID49IHRoaXMuY3VycmVudEJ1ZmZlci5sZW5ndGgpIHtcXG4gICAgICAgICAgICAgIHRoaXMuY3VycmVudEJ1ZmZlciA9IG51bGw7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICB9XFxuXFxuICAgICAgICAgIGlmICh0aGlzLmZpbmlzaGVkICE9PSBmaW5pc2hlZCkge1xcbiAgICAgICAgICAgIHRoaXMuZmluaXNoZWQgPSBmaW5pc2hlZDtcXG4gICAgICAgICAgICB0aGlzLnBvcnQucG9zdE1lc3NhZ2UoeyB0eXBlOiBcInByb2Nlc3NcIiwgZmluaXNoZWQgfSk7XFxuICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgcmV0dXJuIHRydWU7IC8vIENvbnRpbnVlIHByb2Nlc3NpbmdcXG4gICAgICAgIH1cXG4gICAgICB9XFxuXFxuICAgICAgcmVnaXN0ZXJQcm9jZXNzb3IoXCJhdWRpby1jb25jYXQtcHJvY2Vzc29yXCIsIEF1ZGlvQ29uY2F0UHJvY2Vzc29yKTtcXG4gICAgJ10se3R5cGU6XCJhcHBsaWNhdGlvbi9qYXZhc2NyaXB0XCJ9KSxsPVVSTC5jcmVhdGVPYmplY3RVUkwocik7Y2xhc3MgY3tzdGF0aWMgYXN5bmMgY3JlYXRlKHtzYW1wbGVSYXRlOmUsZm9ybWF0OnR9KXtsZXQgbj1udWxsO3RyeXtuPW5ldyBBdWRpb0NvbnRleHQoe3NhbXBsZVJhdGU6ZX0pO2NvbnN0IHM9bi5jcmVhdGVBbmFseXNlcigpLGE9bi5jcmVhdGVHYWluKCk7YS5jb25uZWN0KHMpLHMuY29ubmVjdChuLmRlc3RpbmF0aW9uKSxhd2FpdCBuLmF1ZGlvV29ya2xldC5hZGRNb2R1bGUobCk7Y29uc3Qgbz1uZXcgQXVkaW9Xb3JrbGV0Tm9kZShuLFwiYXVkaW8tY29uY2F0LXByb2Nlc3NvclwiKTtyZXR1cm4gby5wb3J0LnBvc3RNZXNzYWdlKHt0eXBlOlwic2V0Rm9ybWF0XCIsZm9ybWF0OnR9KSxvLmNvbm5lY3QoYSksYXdhaXQgbi5yZXN1bWUoKSxuZXcgYyhuLHMsYSxvKX1jYXRjaChlKXt2YXIgczt0aHJvdyBudWxsPT0ocz1uKXx8cy5jbG9zZSgpLGV9fWNvbnN0cnVjdG9yKGUsdCxuLHMpe3RoaXMuY29udGV4dD12b2lkIDAsdGhpcy5hbmFseXNlcj12b2lkIDAsdGhpcy5nYWluPXZvaWQgMCx0aGlzLndvcmtsZXQ9dm9pZCAwLHRoaXMuY29udGV4dD1lLHRoaXMuYW5hbHlzZXI9dCx0aGlzLmdhaW49bix0aGlzLndvcmtsZXQ9c31hc3luYyBjbG9zZSgpe2F3YWl0IHRoaXMuY29udGV4dC5jbG9zZSgpfX1mdW5jdGlvbiB1KGUpe3JldHVybiEhZS50eXBlfWNsYXNzIGR7c3RhdGljIGFzeW5jIGNyZWF0ZShlKXtsZXQgdD1udWxsO3RyeXt2YXIgbjtjb25zdCBzPW51bGwhPShuPWUub3JpZ2luKT9uOlwid3NzOi8vYXBpLmVsZXZlbmxhYnMuaW9cIixhPWUuc2lnbmVkVXJsP2Uuc2lnbmVkVXJsOnMrXCIvdjEvY29udmFpL2NvbnZlcnNhdGlvbj9hZ2VudF9pZD1cIitlLmFnZW50SWQsbz1bXCJjb252YWlcIl07ZS5hdXRob3JpemF0aW9uJiZvLnB1c2goYGJlYXJlci4ke2UuYXV0aG9yaXphdGlvbn1gKSx0PW5ldyBXZWJTb2NrZXQoYSxvKTtjb25zdCBpPWF3YWl0IG5ldyBQcm9taXNlKChuLHMpPT57dC5hZGRFdmVudExpc3RlbmVyKFwib3BlblwiLCgpPT57dmFyIG47Y29uc3Qgcz17dHlwZTpcImNvbnZlcnNhdGlvbl9pbml0aWF0aW9uX2NsaWVudF9kYXRhXCJ9O3ZhciBhLG8saSxyO2Uub3ZlcnJpZGVzJiYocy5jb252ZXJzYXRpb25fY29uZmlnX292ZXJyaWRlPXthZ2VudDp7cHJvbXB0Om51bGw9PShhPWUub3ZlcnJpZGVzLmFnZW50KT92b2lkIDA6YS5wcm9tcHQsZmlyc3RfbWVzc2FnZTpudWxsPT0obz1lLm92ZXJyaWRlcy5hZ2VudCk/dm9pZCAwOm8uZmlyc3RNZXNzYWdlLGxhbmd1YWdlOm51bGw9PShpPWUub3ZlcnJpZGVzLmFnZW50KT92b2lkIDA6aS5sYW5ndWFnZX0sdHRzOnt2b2ljZV9pZDpudWxsPT0ocj1lLm92ZXJyaWRlcy50dHMpP3ZvaWQgMDpyLnZvaWNlSWR9fSksZS5jdXN0b21MbG1FeHRyYUJvZHkmJihzLmN1c3RvbV9sbG1fZXh0cmFfYm9keT1lLmN1c3RvbUxsbUV4dHJhQm9keSksZS5keW5hbWljVmFyaWFibGVzJiYocy5keW5hbWljX3ZhcmlhYmxlcz1lLmR5bmFtaWNWYXJpYWJsZXMpLG51bGw9PShuPXQpfHxuLnNlbmQoSlNPTi5zdHJpbmdpZnkocykpfSx7b25jZTohMH0pLHQuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsZT0+e3NldFRpbWVvdXQoKCk9PnMoZSksMCl9KSx0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbG9zZVwiLHMpLHQuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIixlPT57Y29uc3QgdD1KU09OLnBhcnNlKGUuZGF0YSk7dSh0KSYmKFwiY29udmVyc2F0aW9uX2luaXRpYXRpb25fbWV0YWRhdGFcIj09PXQudHlwZT9uKHQuY29udmVyc2F0aW9uX2luaXRpYXRpb25fbWV0YWRhdGFfZXZlbnQpOmNvbnNvbGUud2FybihcIkZpcnN0IHJlY2VpdmVkIG1lc3NhZ2UgaXMgbm90IGNvbnZlcnNhdGlvbiBtZXRhZGF0YS5cIikpfSx7b25jZTohMH0pfSkse2NvbnZlcnNhdGlvbl9pZDpyLGFnZW50X291dHB1dF9hdWRpb19mb3JtYXQ6bCx1c2VyX2lucHV0X2F1ZGlvX2Zvcm1hdDpjfT1pLHA9aChudWxsIT1jP2M6XCJwY21fMTYwMDBcIiksbT1oKGwpO3JldHVybiBuZXcgZCh0LHIscCxtKX1jYXRjaChlKXt2YXIgczt0aHJvdyBudWxsPT0ocz10KXx8cy5jbG9zZSgpLGV9fWNvbnN0cnVjdG9yKGUsdCxuLHMpe3RoaXMuc29ja2V0PXZvaWQgMCx0aGlzLmNvbnZlcnNhdGlvbklkPXZvaWQgMCx0aGlzLmlucHV0Rm9ybWF0PXZvaWQgMCx0aGlzLm91dHB1dEZvcm1hdD12b2lkIDAsdGhpcy5xdWV1ZT1bXSx0aGlzLmRpc2Nvbm5lY3Rpb25EZXRhaWxzPW51bGwsdGhpcy5vbkRpc2Nvbm5lY3RDYWxsYmFjaz1udWxsLHRoaXMub25NZXNzYWdlQ2FsbGJhY2s9bnVsbCx0aGlzLnNvY2tldD1lLHRoaXMuY29udmVyc2F0aW9uSWQ9dCx0aGlzLmlucHV0Rm9ybWF0PW4sdGhpcy5vdXRwdXRGb3JtYXQ9cyx0aGlzLnNvY2tldC5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIixlPT57c2V0VGltZW91dCgoKT0+dGhpcy5kaXNjb25uZWN0KHtyZWFzb246XCJlcnJvclwiLG1lc3NhZ2U6XCJUaGUgY29ubmVjdGlvbiB3YXMgY2xvc2VkIGR1ZSB0byBhIHNvY2tldCBlcnJvci5cIixjb250ZXh0OmV9KSwwKX0pLHRoaXMuc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbG9zZVwiLGU9Pnt0aGlzLmRpc2Nvbm5lY3QoMWUzPT09ZS5jb2RlP3tyZWFzb246XCJhZ2VudFwiLGNvbnRleHQ6ZX06e3JlYXNvbjpcImVycm9yXCIsbWVzc2FnZTplLnJlYXNvbnx8XCJUaGUgY29ubmVjdGlvbiB3YXMgY2xvc2VkIGJ5IHRoZSBzZXJ2ZXIuXCIsY29udGV4dDplfSl9KSx0aGlzLnNvY2tldC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGU9Pnt0cnl7Y29uc3QgdD1KU09OLnBhcnNlKGUuZGF0YSk7aWYoIXUodCkpcmV0dXJuO3RoaXMub25NZXNzYWdlQ2FsbGJhY2s/dGhpcy5vbk1lc3NhZ2VDYWxsYmFjayh0KTp0aGlzLnF1ZXVlLnB1c2godCl9Y2F0Y2goZSl7fX0pfWNsb3NlKCl7dGhpcy5zb2NrZXQuY2xvc2UoKX1zZW5kTWVzc2FnZShlKXt0aGlzLnNvY2tldC5zZW5kKEpTT04uc3RyaW5naWZ5KGUpKX1vbk1lc3NhZ2UoZSl7dGhpcy5vbk1lc3NhZ2VDYWxsYmFjaz1lLHRoaXMucXVldWUuZm9yRWFjaChlKSx0aGlzLnF1ZXVlPVtdfW9uRGlzY29ubmVjdChlKXt0aGlzLm9uRGlzY29ubmVjdENhbGxiYWNrPWUsdGhpcy5kaXNjb25uZWN0aW9uRGV0YWlscyYmZSh0aGlzLmRpc2Nvbm5lY3Rpb25EZXRhaWxzKX1kaXNjb25uZWN0KGUpe3ZhciB0O3RoaXMuZGlzY29ubmVjdGlvbkRldGFpbHN8fCh0aGlzLmRpc2Nvbm5lY3Rpb25EZXRhaWxzPWUsbnVsbD09KHQ9dGhpcy5vbkRpc2Nvbm5lY3RDYWxsYmFjayl8fHQuY2FsbCh0aGlzLGUpKX19ZnVuY3Rpb24gaChlKXtjb25zdFt0LG5dPWUuc3BsaXQoXCJfXCIpO2lmKCFbXCJwY21cIixcInVsYXdcIl0uaW5jbHVkZXModCkpdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGZvcm1hdDogJHtlfWApO2NvbnN0IHM9cGFyc2VJbnQobik7aWYoaXNOYU4ocykpdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHNhbXBsZSByYXRlOiAke259YCk7cmV0dXJue2Zvcm1hdDp0LHNhbXBsZVJhdGU6c319Y29uc3QgcD17Y2xpZW50VG9vbHM6e319LG09e29uQ29ubmVjdDooKT0+e30sb25EZWJ1ZzooKT0+e30sb25EaXNjb25uZWN0OigpPT57fSxvbkVycm9yOigpPT57fSxvbk1lc3NhZ2U6KCk9Pnt9LG9uTW9kZUNoYW5nZTooKT0+e30sb25TdGF0dXNDaGFuZ2U6KCk9Pnt9LG9uQ2FuU2VuZEZlZWRiYWNrQ2hhbmdlOigpPT57fX07Y2xhc3MgZntzdGF0aWMgYXN5bmMgc3RhcnRTZXNzaW9uKHQpe2NvbnN0IG49ZSh7fSxwLG0sdCk7bi5vblN0YXR1c0NoYW5nZSh7c3RhdHVzOlwiY29ubmVjdGluZ1wifSksbi5vbkNhblNlbmRGZWVkYmFja0NoYW5nZSh7Y2FuU2VuZEZlZWRiYWNrOiExfSk7bGV0IHM9bnVsbCxhPW51bGwscj1udWxsLGw9bnVsbDt0cnl7dmFyIHUsaDtsPWF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHthdWRpbzohMH0pO2NvbnN0IHA9bnVsbCE9KHU9dC5jb25uZWN0aW9uRGVsYXkpP3U6e2RlZmF1bHQ6MCxhbmRyb2lkOjNlM307bGV0IG09cC5kZWZhdWx0O3ZhciBnO2lmKC9hbmRyb2lkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSltPW51bGwhPShnPXAuYW5kcm9pZCk/ZzptO2Vsc2UgaWYobygpKXt2YXIgdjttPW51bGwhPSh2PXAuaW9zKT92Om19cmV0dXJuIG0+MCYmYXdhaXQgbmV3IFByb21pc2UoZT0+c2V0VGltZW91dChlLG0pKSxhPWF3YWl0IGQuY3JlYXRlKHQpLFtzLHJdPWF3YWl0IFByb21pc2UuYWxsKFtpLmNyZWF0ZShlKHt9LGEuaW5wdXRGb3JtYXQse3ByZWZlckhlYWRwaG9uZXNGb3JJb3NEZXZpY2VzOnQucHJlZmVySGVhZHBob25lc0Zvcklvc0RldmljZXN9KSksYy5jcmVhdGUoYS5vdXRwdXRGb3JtYXQpXSksbnVsbD09KGg9bCl8fGguZ2V0VHJhY2tzKCkuZm9yRWFjaChlPT5lLnN0b3AoKSksbD1udWxsLG5ldyBmKG4sYSxzLHIpfWNhdGNoKGUpe3ZhciBfLHksdyxiO3Rocm93IG4ub25TdGF0dXNDaGFuZ2Uoe3N0YXR1czpcImRpc2Nvbm5lY3RlZFwifSksbnVsbD09KF89bCl8fF8uZ2V0VHJhY2tzKCkuZm9yRWFjaChlPT5lLnN0b3AoKSksbnVsbD09KHk9YSl8fHkuY2xvc2UoKSxhd2FpdChudWxsPT0odz1zKT92b2lkIDA6dy5jbG9zZSgpKSxhd2FpdChudWxsPT0oYj1yKT92b2lkIDA6Yi5jbG9zZSgpKSxlfX1jb25zdHJ1Y3RvcihlLHMsYSxvKXt2YXIgaT10aGlzO3RoaXMub3B0aW9ucz12b2lkIDAsdGhpcy5jb25uZWN0aW9uPXZvaWQgMCx0aGlzLmlucHV0PXZvaWQgMCx0aGlzLm91dHB1dD12b2lkIDAsdGhpcy5sYXN0SW50ZXJydXB0VGltZXN0YW1wPTAsdGhpcy5tb2RlPVwibGlzdGVuaW5nXCIsdGhpcy5zdGF0dXM9XCJjb25uZWN0aW5nXCIsdGhpcy5pbnB1dEZyZXF1ZW5jeURhdGE9dm9pZCAwLHRoaXMub3V0cHV0RnJlcXVlbmN5RGF0YT12b2lkIDAsdGhpcy52b2x1bWU9MSx0aGlzLmN1cnJlbnRFdmVudElkPTEsdGhpcy5sYXN0RmVlZGJhY2tFdmVudElkPTEsdGhpcy5jYW5TZW5kRmVlZGJhY2s9ITEsdGhpcy5lbmRTZXNzaW9uPSgpPT50aGlzLmVuZFNlc3Npb25XaXRoRGV0YWlscyh7cmVhc29uOlwidXNlclwifSksdGhpcy5lbmRTZXNzaW9uV2l0aERldGFpbHM9YXN5bmMgZnVuY3Rpb24oZSl7XCJjb25uZWN0ZWRcIiE9PWkuc3RhdHVzJiZcImNvbm5lY3RpbmdcIiE9PWkuc3RhdHVzfHwoaS51cGRhdGVTdGF0dXMoXCJkaXNjb25uZWN0aW5nXCIpLGkuY29ubmVjdGlvbi5jbG9zZSgpLGF3YWl0IGkuaW5wdXQuY2xvc2UoKSxhd2FpdCBpLm91dHB1dC5jbG9zZSgpLGkudXBkYXRlU3RhdHVzKFwiZGlzY29ubmVjdGVkXCIpLGkub3B0aW9ucy5vbkRpc2Nvbm5lY3QoZSkpfSx0aGlzLnVwZGF0ZU1vZGU9ZT0+e2UhPT10aGlzLm1vZGUmJih0aGlzLm1vZGU9ZSx0aGlzLm9wdGlvbnMub25Nb2RlQ2hhbmdlKHttb2RlOmV9KSl9LHRoaXMudXBkYXRlU3RhdHVzPWU9PntlIT09dGhpcy5zdGF0dXMmJih0aGlzLnN0YXR1cz1lLHRoaXMub3B0aW9ucy5vblN0YXR1c0NoYW5nZSh7c3RhdHVzOmV9KSl9LHRoaXMudXBkYXRlQ2FuU2VuZEZlZWRiYWNrPSgpPT57Y29uc3QgZT10aGlzLmN1cnJlbnRFdmVudElkIT09dGhpcy5sYXN0RmVlZGJhY2tFdmVudElkO3RoaXMuY2FuU2VuZEZlZWRiYWNrIT09ZSYmKHRoaXMuY2FuU2VuZEZlZWRiYWNrPWUsdGhpcy5vcHRpb25zLm9uQ2FuU2VuZEZlZWRiYWNrQ2hhbmdlKHtjYW5TZW5kRmVlZGJhY2s6ZX0pKX0sdGhpcy5vbk1lc3NhZ2U9YXN5bmMgZnVuY3Rpb24oZSl7c3dpdGNoKGUudHlwZSl7Y2FzZVwiaW50ZXJydXB0aW9uXCI6cmV0dXJuIGUuaW50ZXJydXB0aW9uX2V2ZW50JiYoaS5sYXN0SW50ZXJydXB0VGltZXN0YW1wPWUuaW50ZXJydXB0aW9uX2V2ZW50LmV2ZW50X2lkKSx2b2lkIGkuZmFkZU91dEF1ZGlvKCk7Y2FzZVwiYWdlbnRfcmVzcG9uc2VcIjpyZXR1cm4gdm9pZCBpLm9wdGlvbnMub25NZXNzYWdlKHtzb3VyY2U6XCJhaVwiLG1lc3NhZ2U6ZS5hZ2VudF9yZXNwb25zZV9ldmVudC5hZ2VudF9yZXNwb25zZX0pO2Nhc2VcInVzZXJfdHJhbnNjcmlwdFwiOnJldHVybiB2b2lkIGkub3B0aW9ucy5vbk1lc3NhZ2Uoe3NvdXJjZTpcInVzZXJcIixtZXNzYWdlOmUudXNlcl90cmFuc2NyaXB0aW9uX2V2ZW50LnVzZXJfdHJhbnNjcmlwdH0pO2Nhc2VcImludGVybmFsX3RlbnRhdGl2ZV9hZ2VudF9yZXNwb25zZVwiOnJldHVybiB2b2lkIGkub3B0aW9ucy5vbkRlYnVnKHt0eXBlOlwidGVudGF0aXZlX2FnZW50X3Jlc3BvbnNlXCIscmVzcG9uc2U6ZS50ZW50YXRpdmVfYWdlbnRfcmVzcG9uc2VfaW50ZXJuYWxfZXZlbnQudGVudGF0aXZlX2FnZW50X3Jlc3BvbnNlfSk7Y2FzZVwiY2xpZW50X3Rvb2xfY2FsbFwiOmlmKGNvbnNvbGUuaW5mbyhcIlJlY2VpdmVkIGNsaWVudCB0b29sIGNhbGwgcmVxdWVzdFwiLGUuY2xpZW50X3Rvb2xfY2FsbCksaS5vcHRpb25zLmNsaWVudFRvb2xzLmhhc093blByb3BlcnR5KGUuY2xpZW50X3Rvb2xfY2FsbC50b29sX25hbWUpKXRyeXt2YXIgdDtjb25zdCBuPW51bGwhPSh0PWF3YWl0IGkub3B0aW9ucy5jbGllbnRUb29sc1tlLmNsaWVudF90b29sX2NhbGwudG9vbF9uYW1lXShlLmNsaWVudF90b29sX2NhbGwucGFyYW1ldGVycykpP3Q6XCJDbGllbnQgdG9vbCBleGVjdXRpb24gc3VjY2Vzc2Z1bC5cIixzPVwib2JqZWN0XCI9PXR5cGVvZiBuP0pTT04uc3RyaW5naWZ5KG4pOlN0cmluZyhuKTtpLmNvbm5lY3Rpb24uc2VuZE1lc3NhZ2Uoe3R5cGU6XCJjbGllbnRfdG9vbF9yZXN1bHRcIix0b29sX2NhbGxfaWQ6ZS5jbGllbnRfdG9vbF9jYWxsLnRvb2xfY2FsbF9pZCxyZXN1bHQ6cyxpc19lcnJvcjohMX0pfWNhdGNoKHQpe2kub25FcnJvcihcIkNsaWVudCB0b29sIGV4ZWN1dGlvbiBmYWlsZWQgd2l0aCBmb2xsb3dpbmcgZXJyb3I6IFwiKyhudWxsPT10P3ZvaWQgMDp0Lm1lc3NhZ2UpLHtjbGllbnRUb29sTmFtZTplLmNsaWVudF90b29sX2NhbGwudG9vbF9uYW1lfSksaS5jb25uZWN0aW9uLnNlbmRNZXNzYWdlKHt0eXBlOlwiY2xpZW50X3Rvb2xfcmVzdWx0XCIsdG9vbF9jYWxsX2lkOmUuY2xpZW50X3Rvb2xfY2FsbC50b29sX2NhbGxfaWQscmVzdWx0OlwiQ2xpZW50IHRvb2wgZXhlY3V0aW9uIGZhaWxlZDogXCIrKG51bGw9PXQ/dm9pZCAwOnQubWVzc2FnZSksaXNfZXJyb3I6ITB9KX1lbHNle2lmKGkub3B0aW9ucy5vblVuaGFuZGxlZENsaWVudFRvb2xDYWxsKXJldHVybiB2b2lkIGkub3B0aW9ucy5vblVuaGFuZGxlZENsaWVudFRvb2xDYWxsKGUuY2xpZW50X3Rvb2xfY2FsbCk7aS5vbkVycm9yKGBDbGllbnQgdG9vbCB3aXRoIG5hbWUgJHtlLmNsaWVudF90b29sX2NhbGwudG9vbF9uYW1lfSBpcyBub3QgZGVmaW5lZCBvbiBjbGllbnRgLHtjbGllbnRUb29sTmFtZTplLmNsaWVudF90b29sX2NhbGwudG9vbF9uYW1lfSksaS5jb25uZWN0aW9uLnNlbmRNZXNzYWdlKHt0eXBlOlwiY2xpZW50X3Rvb2xfcmVzdWx0XCIsdG9vbF9jYWxsX2lkOmUuY2xpZW50X3Rvb2xfY2FsbC50b29sX2NhbGxfaWQscmVzdWx0OmBDbGllbnQgdG9vbCB3aXRoIG5hbWUgJHtlLmNsaWVudF90b29sX2NhbGwudG9vbF9uYW1lfSBpcyBub3QgZGVmaW5lZCBvbiBjbGllbnRgLGlzX2Vycm9yOiEwfSl9cmV0dXJuO2Nhc2VcImF1ZGlvXCI6cmV0dXJuIHZvaWQoaS5sYXN0SW50ZXJydXB0VGltZXN0YW1wPD1lLmF1ZGlvX2V2ZW50LmV2ZW50X2lkJiYoaS5hZGRBdWRpb0Jhc2U2NENodW5rKGUuYXVkaW9fZXZlbnQuYXVkaW9fYmFzZV82NCksaS5jdXJyZW50RXZlbnRJZD1lLmF1ZGlvX2V2ZW50LmV2ZW50X2lkLGkudXBkYXRlQ2FuU2VuZEZlZWRiYWNrKCksaS51cGRhdGVNb2RlKFwic3BlYWtpbmdcIikpKTtjYXNlXCJwaW5nXCI6cmV0dXJuIHZvaWQgaS5jb25uZWN0aW9uLnNlbmRNZXNzYWdlKHt0eXBlOlwicG9uZ1wiLGV2ZW50X2lkOmUucGluZ19ldmVudC5ldmVudF9pZH0pO2RlZmF1bHQ6cmV0dXJuIHZvaWQgaS5vcHRpb25zLm9uRGVidWcoZSl9fSx0aGlzLm9uSW5wdXRXb3JrbGV0TWVzc2FnZT1lPT57XCJjb25uZWN0ZWRcIj09PXRoaXMuc3RhdHVzJiZ0aGlzLmNvbm5lY3Rpb24uc2VuZE1lc3NhZ2Uoe3VzZXJfYXVkaW9fY2h1bms6dChlLmRhdGFbMF0uYnVmZmVyKX0pfSx0aGlzLm9uT3V0cHV0V29ya2xldE1lc3NhZ2U9KHtkYXRhOmV9KT0+e1wicHJvY2Vzc1wiPT09ZS50eXBlJiZ0aGlzLnVwZGF0ZU1vZGUoZS5maW5pc2hlZD9cImxpc3RlbmluZ1wiOlwic3BlYWtpbmdcIil9LHRoaXMuYWRkQXVkaW9CYXNlNjRDaHVuaz1lPT57dGhpcy5vdXRwdXQuZ2Fpbi5nYWluLnZhbHVlPXRoaXMudm9sdW1lLHRoaXMub3V0cHV0LndvcmtsZXQucG9ydC5wb3N0TWVzc2FnZSh7dHlwZTpcImNsZWFySW50ZXJydXB0ZWRcIn0pLHRoaXMub3V0cHV0LndvcmtsZXQucG9ydC5wb3N0TWVzc2FnZSh7dHlwZTpcImJ1ZmZlclwiLGJ1ZmZlcjpuKGUpfSl9LHRoaXMuZmFkZU91dEF1ZGlvPSgpPT57dGhpcy51cGRhdGVNb2RlKFwibGlzdGVuaW5nXCIpLHRoaXMub3V0cHV0LndvcmtsZXQucG9ydC5wb3N0TWVzc2FnZSh7dHlwZTpcImludGVycnVwdFwifSksdGhpcy5vdXRwdXQuZ2Fpbi5nYWluLmV4cG9uZW50aWFsUmFtcFRvVmFsdWVBdFRpbWUoMWUtNCx0aGlzLm91dHB1dC5jb250ZXh0LmN1cnJlbnRUaW1lKzIpLHNldFRpbWVvdXQoKCk9Pnt0aGlzLm91dHB1dC5nYWluLmdhaW4udmFsdWU9dGhpcy52b2x1bWUsdGhpcy5vdXRwdXQud29ya2xldC5wb3J0LnBvc3RNZXNzYWdlKHt0eXBlOlwiY2xlYXJJbnRlcnJ1cHRlZFwifSl9LDJlMyl9LHRoaXMub25FcnJvcj0oZSx0KT0+e2NvbnNvbGUuZXJyb3IoZSx0KSx0aGlzLm9wdGlvbnMub25FcnJvcihlLHQpfSx0aGlzLmNhbGN1bGF0ZVZvbHVtZT1lPT57aWYoMD09PWUubGVuZ3RoKXJldHVybiAwO2xldCB0PTA7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspdCs9ZVtuXS8yNTU7cmV0dXJuIHQvPWUubGVuZ3RoLHQ8MD8wOnQ+MT8xOnR9LHRoaXMuZ2V0SWQ9KCk9PnRoaXMuY29ubmVjdGlvbi5jb252ZXJzYXRpb25JZCx0aGlzLmlzT3Blbj0oKT0+XCJjb25uZWN0ZWRcIj09PXRoaXMuc3RhdHVzLHRoaXMuc2V0Vm9sdW1lPSh7dm9sdW1lOmV9KT0+e3RoaXMudm9sdW1lPWV9LHRoaXMuc2V0TWljTXV0ZWQ9ZT0+e3RoaXMuaW5wdXQuc2V0TXV0ZWQoZSl9LHRoaXMuZ2V0SW5wdXRCeXRlRnJlcXVlbmN5RGF0YT0oKT0+KG51bGwhPXRoaXMuaW5wdXRGcmVxdWVuY3lEYXRhfHwodGhpcy5pbnB1dEZyZXF1ZW5jeURhdGE9bmV3IFVpbnQ4QXJyYXkodGhpcy5pbnB1dC5hbmFseXNlci5mcmVxdWVuY3lCaW5Db3VudCkpLHRoaXMuaW5wdXQuYW5hbHlzZXIuZ2V0Qnl0ZUZyZXF1ZW5jeURhdGEodGhpcy5pbnB1dEZyZXF1ZW5jeURhdGEpLHRoaXMuaW5wdXRGcmVxdWVuY3lEYXRhKSx0aGlzLmdldE91dHB1dEJ5dGVGcmVxdWVuY3lEYXRhPSgpPT4obnVsbCE9dGhpcy5vdXRwdXRGcmVxdWVuY3lEYXRhfHwodGhpcy5vdXRwdXRGcmVxdWVuY3lEYXRhPW5ldyBVaW50OEFycmF5KHRoaXMub3V0cHV0LmFuYWx5c2VyLmZyZXF1ZW5jeUJpbkNvdW50KSksdGhpcy5vdXRwdXQuYW5hbHlzZXIuZ2V0Qnl0ZUZyZXF1ZW5jeURhdGEodGhpcy5vdXRwdXRGcmVxdWVuY3lEYXRhKSx0aGlzLm91dHB1dEZyZXF1ZW5jeURhdGEpLHRoaXMuZ2V0SW5wdXRWb2x1bWU9KCk9PnRoaXMuY2FsY3VsYXRlVm9sdW1lKHRoaXMuZ2V0SW5wdXRCeXRlRnJlcXVlbmN5RGF0YSgpKSx0aGlzLmdldE91dHB1dFZvbHVtZT0oKT0+dGhpcy5jYWxjdWxhdGVWb2x1bWUodGhpcy5nZXRPdXRwdXRCeXRlRnJlcXVlbmN5RGF0YSgpKSx0aGlzLnNlbmRGZWVkYmFjaz1lPT57dGhpcy5jYW5TZW5kRmVlZGJhY2s/KHRoaXMuY29ubmVjdGlvbi5zZW5kTWVzc2FnZSh7dHlwZTpcImZlZWRiYWNrXCIsc2NvcmU6ZT9cImxpa2VcIjpcImRpc2xpa2VcIixldmVudF9pZDp0aGlzLmN1cnJlbnRFdmVudElkfSksdGhpcy5sYXN0RmVlZGJhY2tFdmVudElkPXRoaXMuY3VycmVudEV2ZW50SWQsdGhpcy51cGRhdGVDYW5TZW5kRmVlZGJhY2soKSk6Y29uc29sZS53YXJuKDA9PT10aGlzLmxhc3RGZWVkYmFja0V2ZW50SWQ/XCJDYW5ub3Qgc2VuZCBmZWVkYmFjazogdGhlIGNvbnZlcnNhdGlvbiBoYXMgbm90IHN0YXJ0ZWQgeWV0LlwiOlwiQ2Fubm90IHNlbmQgZmVlZGJhY2s6IGZlZWRiYWNrIGhhcyBhbHJlYWR5IGJlZW4gc2VudCBmb3IgdGhlIGN1cnJlbnQgcmVzcG9uc2UuXCIpfSx0aGlzLm9wdGlvbnM9ZSx0aGlzLmNvbm5lY3Rpb249cyx0aGlzLmlucHV0PWEsdGhpcy5vdXRwdXQ9byx0aGlzLm9wdGlvbnMub25Db25uZWN0KHtjb252ZXJzYXRpb25JZDpzLmNvbnZlcnNhdGlvbklkfSksdGhpcy5jb25uZWN0aW9uLm9uRGlzY29ubmVjdCh0aGlzLmVuZFNlc3Npb25XaXRoRGV0YWlscyksdGhpcy5jb25uZWN0aW9uLm9uTWVzc2FnZSh0aGlzLm9uTWVzc2FnZSksdGhpcy5pbnB1dC53b3JrbGV0LnBvcnQub25tZXNzYWdlPXRoaXMub25JbnB1dFdvcmtsZXRNZXNzYWdlLHRoaXMub3V0cHV0LndvcmtsZXQucG9ydC5vbm1lc3NhZ2U9dGhpcy5vbk91dHB1dFdvcmtsZXRNZXNzYWdlLHRoaXMudXBkYXRlU3RhdHVzKFwiY29ubmVjdGVkXCIpfX1mdW5jdGlvbiBnKGUsdCxuPVwiaHR0cHM6Ly9hcGkuZWxldmVubGFicy5pb1wiKXtyZXR1cm4gZmV0Y2goYCR7bn0vdjEvY29udmFpL2NvbnZlcnNhdGlvbnMvJHtlfS9mZWVkYmFja2Ase21ldGhvZDpcIlBPU1RcIixib2R5OkpTT04uc3RyaW5naWZ5KHtmZWVkYmFjazp0P1wibGlrZVwiOlwiZGlzbGlrZVwifSksaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb25cIn19KX1leHBvcnR7ZiBhcyBDb252ZXJzYXRpb24sZyBhcyBwb3N0T3ZlcmFsbEZlZWRiYWNrfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpYi5tb2Rlcm4uanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@11labs/client/dist/lib.modern.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@11labs/react/dist/lib.modern.js":
/*!*******************************************************!*\
  !*** ./node_modules/@11labs/react/dist/lib.modern.js ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   postOverallFeedback: () => (/* reexport safe */ _11labs_client__WEBPACK_IMPORTED_MODULE_1__.postOverallFeedback),\n/* harmony export */   useConversation: () => (/* binding */ a)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var _11labs_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @11labs/client */ \"(ssr)/./node_modules/@11labs/client/dist/lib.modern.js\");\nfunction u(){return u=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},u.apply(null,arguments)}const l=[\"micMuted\",\"volume\"];function a(a={}){const{micMuted:c,volume:o}=a,i=function(e,n){if(null==e)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(n.includes(r))continue;t[r]=e[r]}return t}(a,l),s=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),d=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),[v,m]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"disconnected\"),[g,p]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[f,y]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"listening\");return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{var e;void 0!==c&&(null==s||null==(e=s.current)||e.setMicMuted(c))},[c]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{var e;void 0!==o&&(null==s||null==(e=s.current)||e.setVolume({volume:o}))},[o]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>()=>{var e;null==(e=s.current)||e.endSession()},[]),{startSession:async e=>{var n;if(null!=(n=s.current)&&n.isOpen())return s.current.getId();if(d.current)return(await d.current).getId();try{return d.current=_11labs_client__WEBPACK_IMPORTED_MODULE_1__.Conversation.startSession(u({},null!=i?i:{},null!=e?e:{},{onModeChange:({mode:e})=>{y(e)},onStatusChange:({status:e})=>{m(e)},onCanSendFeedbackChange:({canSendFeedback:e})=>{p(e)}})),s.current=await d.current,void 0!==c&&s.current.setMicMuted(c),void 0!==o&&s.current.setVolume({volume:o}),s.current.getId()}finally{d.current=null}},endSession:async()=>{const e=s.current;s.current=null,await(null==e?void 0:e.endSession())},setVolume:({volume:e})=>{var n;null==(n=s.current)||n.setVolume({volume:e})},getInputByteFrequencyData:()=>{var e;return null==(e=s.current)?void 0:e.getInputByteFrequencyData()},getOutputByteFrequencyData:()=>{var e;return null==(e=s.current)?void 0:e.getOutputByteFrequencyData()},getInputVolume:()=>{var e,n;return null!=(e=null==(n=s.current)?void 0:n.getInputVolume())?e:0},getOutputVolume:()=>{var e,n;return null!=(e=null==(n=s.current)?void 0:n.getOutputVolume())?e:0},sendFeedback:e=>{var n;null==(n=s.current)||n.sendFeedback(e)},getId:()=>{var e;return null==(e=s.current)?void 0:e.getId()},status:v,canSendFeedback:g,micMuted:c,isSpeaking:\"speaking\"===f}}\n//# sourceMappingURL=lib.modern.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQDExbGFicy9yZWFjdC9kaXN0L2xpYi5tb2Rlcm4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUEwSixhQUFhLHdEQUF3RCxZQUFZLG1CQUFtQixLQUFLLG1CQUFtQixrQkFBa0Isd0NBQXdDLFNBQVMseUJBQXlCLDhCQUE4QixlQUFlLEVBQUUsTUFBTSxvQkFBb0IsbUJBQW1CLG9CQUFvQixTQUFTLG9CQUFvQiwyQkFBMkIsMEJBQTBCLFVBQVUsU0FBUyxRQUFRLDZDQUFDLFNBQVMsNkNBQUMsYUFBYSwrQ0FBQyx1QkFBdUIsK0NBQUMsV0FBVywrQ0FBQyxjQUFjLE9BQU8sZ0RBQUMsTUFBTSxNQUFNLDZEQUE2RCxNQUFNLGdEQUFDLE1BQU0sTUFBTSx3REFBd0QsU0FBUyxHQUFHLE1BQU0sZ0RBQUMsVUFBVSxNQUFNLG9DQUFvQyxNQUFNLHVCQUF1QixNQUFNLDREQUE0RCw2Q0FBNkMsSUFBSSxpQkFBaUIsd0RBQUMsa0JBQWtCLGFBQWEsYUFBYSxFQUFFLGVBQWUsT0FBTyxJQUFJLEtBQUssa0JBQWtCLFNBQVMsSUFBSSxLQUFLLDJCQUEyQixrQkFBa0IsSUFBSSxNQUFNLG1HQUFtRyxTQUFTLG9CQUFvQixRQUFRLGdCQUFnQixzQkFBc0Isa0JBQWtCLG9EQUFvRCxhQUFhLFNBQVMsSUFBSSxNQUFNLGtDQUFrQyxTQUFTLEVBQUUsZ0NBQWdDLE1BQU0sZ0VBQWdFLGlDQUFpQyxNQUFNLGlFQUFpRSxxQkFBcUIsUUFBUSxtRUFBbUUsc0JBQXNCLFFBQVEsb0VBQW9FLGtCQUFrQixNQUFNLHVDQUF1QyxZQUFZLE1BQU0sNENBQTRDLGtFQUErRjtBQUNwbkUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQDExbGFicy9yZWFjdC9kaXN0L2xpYi5tb2Rlcm4uanM/ZWYwOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnR7dXNlUmVmIGFzIGUsdXNlU3RhdGUgYXMgbix1c2VFZmZlY3QgYXMgdH1mcm9tXCJyZWFjdFwiO2ltcG9ydHtDb252ZXJzYXRpb24gYXMgcn1mcm9tXCJAMTFsYWJzL2NsaWVudFwiO2V4cG9ydHtwb3N0T3ZlcmFsbEZlZWRiYWNrfWZyb21cIkAxMWxhYnMvY2xpZW50XCI7ZnVuY3Rpb24gdSgpe3JldHVybiB1PU9iamVjdC5hc3NpZ24/T2JqZWN0LmFzc2lnbi5iaW5kKCk6ZnVuY3Rpb24oZSl7Zm9yKHZhciBuPTE7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl7dmFyIHQ9YXJndW1lbnRzW25dO2Zvcih2YXIgciBpbiB0KSh7fSkuaGFzT3duUHJvcGVydHkuY2FsbCh0LHIpJiYoZVtyXT10W3JdKX1yZXR1cm4gZX0sdS5hcHBseShudWxsLGFyZ3VtZW50cyl9Y29uc3QgbD1bXCJtaWNNdXRlZFwiLFwidm9sdW1lXCJdO2Z1bmN0aW9uIGEoYT17fSl7Y29uc3R7bWljTXV0ZWQ6Yyx2b2x1bWU6b309YSxpPWZ1bmN0aW9uKGUsbil7aWYobnVsbD09ZSlyZXR1cm57fTt2YXIgdD17fTtmb3IodmFyIHIgaW4gZSlpZih7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikpe2lmKG4uaW5jbHVkZXMocikpY29udGludWU7dFtyXT1lW3JdfXJldHVybiB0fShhLGwpLHM9ZShudWxsKSxkPWUobnVsbCksW3YsbV09bihcImRpc2Nvbm5lY3RlZFwiKSxbZyxwXT1uKCExKSxbZix5XT1uKFwibGlzdGVuaW5nXCIpO3JldHVybiB0KCgpPT57dmFyIGU7dm9pZCAwIT09YyYmKG51bGw9PXN8fG51bGw9PShlPXMuY3VycmVudCl8fGUuc2V0TWljTXV0ZWQoYykpfSxbY10pLHQoKCk9Pnt2YXIgZTt2b2lkIDAhPT1vJiYobnVsbD09c3x8bnVsbD09KGU9cy5jdXJyZW50KXx8ZS5zZXRWb2x1bWUoe3ZvbHVtZTpvfSkpfSxbb10pLHQoKCk9PigpPT57dmFyIGU7bnVsbD09KGU9cy5jdXJyZW50KXx8ZS5lbmRTZXNzaW9uKCl9LFtdKSx7c3RhcnRTZXNzaW9uOmFzeW5jIGU9Pnt2YXIgbjtpZihudWxsIT0obj1zLmN1cnJlbnQpJiZuLmlzT3BlbigpKXJldHVybiBzLmN1cnJlbnQuZ2V0SWQoKTtpZihkLmN1cnJlbnQpcmV0dXJuKGF3YWl0IGQuY3VycmVudCkuZ2V0SWQoKTt0cnl7cmV0dXJuIGQuY3VycmVudD1yLnN0YXJ0U2Vzc2lvbih1KHt9LG51bGwhPWk/aTp7fSxudWxsIT1lP2U6e30se29uTW9kZUNoYW5nZTooe21vZGU6ZX0pPT57eShlKX0sb25TdGF0dXNDaGFuZ2U6KHtzdGF0dXM6ZX0pPT57bShlKX0sb25DYW5TZW5kRmVlZGJhY2tDaGFuZ2U6KHtjYW5TZW5kRmVlZGJhY2s6ZX0pPT57cChlKX19KSkscy5jdXJyZW50PWF3YWl0IGQuY3VycmVudCx2b2lkIDAhPT1jJiZzLmN1cnJlbnQuc2V0TWljTXV0ZWQoYyksdm9pZCAwIT09byYmcy5jdXJyZW50LnNldFZvbHVtZSh7dm9sdW1lOm99KSxzLmN1cnJlbnQuZ2V0SWQoKX1maW5hbGx5e2QuY3VycmVudD1udWxsfX0sZW5kU2Vzc2lvbjphc3luYygpPT57Y29uc3QgZT1zLmN1cnJlbnQ7cy5jdXJyZW50PW51bGwsYXdhaXQobnVsbD09ZT92b2lkIDA6ZS5lbmRTZXNzaW9uKCkpfSxzZXRWb2x1bWU6KHt2b2x1bWU6ZX0pPT57dmFyIG47bnVsbD09KG49cy5jdXJyZW50KXx8bi5zZXRWb2x1bWUoe3ZvbHVtZTplfSl9LGdldElucHV0Qnl0ZUZyZXF1ZW5jeURhdGE6KCk9Pnt2YXIgZTtyZXR1cm4gbnVsbD09KGU9cy5jdXJyZW50KT92b2lkIDA6ZS5nZXRJbnB1dEJ5dGVGcmVxdWVuY3lEYXRhKCl9LGdldE91dHB1dEJ5dGVGcmVxdWVuY3lEYXRhOigpPT57dmFyIGU7cmV0dXJuIG51bGw9PShlPXMuY3VycmVudCk/dm9pZCAwOmUuZ2V0T3V0cHV0Qnl0ZUZyZXF1ZW5jeURhdGEoKX0sZ2V0SW5wdXRWb2x1bWU6KCk9Pnt2YXIgZSxuO3JldHVybiBudWxsIT0oZT1udWxsPT0obj1zLmN1cnJlbnQpP3ZvaWQgMDpuLmdldElucHV0Vm9sdW1lKCkpP2U6MH0sZ2V0T3V0cHV0Vm9sdW1lOigpPT57dmFyIGUsbjtyZXR1cm4gbnVsbCE9KGU9bnVsbD09KG49cy5jdXJyZW50KT92b2lkIDA6bi5nZXRPdXRwdXRWb2x1bWUoKSk/ZTowfSxzZW5kRmVlZGJhY2s6ZT0+e3ZhciBuO251bGw9PShuPXMuY3VycmVudCl8fG4uc2VuZEZlZWRiYWNrKGUpfSxnZXRJZDooKT0+e3ZhciBlO3JldHVybiBudWxsPT0oZT1zLmN1cnJlbnQpP3ZvaWQgMDplLmdldElkKCl9LHN0YXR1czp2LGNhblNlbmRGZWVkYmFjazpnLG1pY011dGVkOmMsaXNTcGVha2luZzpcInNwZWFraW5nXCI9PT1mfX1leHBvcnR7YSBhcyB1c2VDb252ZXJzYXRpb259O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGliLm1vZGVybi5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@11labs/react/dist/lib.modern.js\n");

/***/ })

};
;